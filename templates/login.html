<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>登录</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/public.css' %}">


</head>
<body>
  <script>
    {% for msg in messages %}
      alert('{{ msg.message }}');
    {% endfor %}
  </script>
<div id="bg"></div>
<div class="show">
    <h3 class="title">柜面中空T平台</h3>

{#    <div class="login-panel">#}
{#        <h4 class="form-title">登录 T平台</h4>#}
{#        <hr class="top-line">#}
{#        <form action="/login/" method="post" autocomplete="off">#}
{#            <div class="form-group">#}
{#                <label for="username">用户名</label>#}
{#                <input type="text" class="form-control" id="username" name="username">#}
{#            </div>#}
{#            <div class="form-group">#}
{#                <label for="password">密码</label>#}
{#                <input type="password" class="form-control" id="password" name="password">#}
{#            </div>#}
{##}
{##}
{#            <div class="form-group">#}
{#                <button type="submit" class="btn btn-info" id="submit">登录</button>#}
{#            </div>#}
{#        {% csrf_token %}#}
{#        </form>#}
{#    </div>#}

    <div class="login-panel">
<h4 class="form-title">登录 T平台</h4>
                <form class="tab-form "
                      action="{% url 'dynamic_login' %}?next={{ next }}" id="mobile_register_form" autocomplete="off" method="post"
                      id="form2">
                    {% csrf_token %}
                    <div class="form-group">
                        <input id="jsRegMobile" name="mobile" value="{{ login_form.mobile.value|default_if_none:'' }}" type="text" placeholder="请输入您的手机号码">
                    </div>
                    <div class="form-group" id="jsRefreshCode">

                        <!-- 正常访问时，使用的是我们传递的login_form里面的图形验证码 -->
                        {{ login_form.captcha }}
                        <!-- 手机验证码登录失败时，使用的是我们传递的d_form里面的图形验证码 -->
                        {{ d_form.captcha }}
                    </div>

                    <div class="form-group">
                        <div class="form-group ">
                            <input id="jsPhoneRegCaptcha" name="code" value="{{ login_form.code.value|default_if_none:'' }}" type="text" placeholder="输入手机验证码">
                        </div>
                        <input class="verify-code-btn sendcode" id="jsSendCode" value="发送验证码">
                    </div>

                    <div class="error btns" id="jsMobileTips">
                        <!-- 调用form表单里面的错误信息 -->
                        {% if login_form.errors %}
                            {% for key, error in login_form.errors.items %}
                                {{ error }}
                            {% endfor %}
                        {% else %}
                            {{ error_msg }}
                        {% endif %}
                    </div>
                    <div class="form-group">
                    </div>
                    <input class="btn btn-info" id="jsMobileRegBtn" type="button" value="立即登录">
                </form>


            </div>

</div>
<script src="/static/js/jquery.min.js" type="text/javascript"></script>
<script src="/static/js/unslider.js" type="text/javascript"></script>
<script src="/static/js/validateDialog.js" type="text/javascript"></script>
<script src="/static/js/login.js" type="text/javascript"></script>
{#<script src="{% static 'js/jquery-3.3.1.min.js' %}" type="text/javascript" ></script>#}
{#<script src="{% static 'js/unslider.js' %}" type="text/javascript"></script>#}
{#<script src="{% static 'js/validateDialog.js' %}" type="text/javascript"></script>#}
{#<script src="{% static 'js/login.js' %}" type="text/javascript" ></script>#}




</body>
</html>